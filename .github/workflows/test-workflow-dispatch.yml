# jobs:
#   deploy:
#     runs-on: ubuntu-latest
#     steps:
#       - name: Exibir configuração escolhida
#         run: |
#           echo "Ambiente: ${{ github.event.inputs.environment }}"
#           echo "Versão: ${{ github.event.inputs.release_version }}"
#           echo "Tipo: ${{ github.event.inputs.deploy_type }}"
#           echo "Forçar deploy: ${{ github.event.inputs.force_deploy }}"

name: Teste Cron Estável

on:
  # variaveis após o input: podem ser resgatadas depois pela pipe
  # type boolean = checkbox
  # type choice = select

  workflow_dispatch: # Gatilho manual
    inputs:
      environment:
        description: "Escolha o Ambiente"
        required: true
        type: choice
        options:
          - testFlight
          - prod

  schedule: # Gatilho automático
    # - cron: "42 19 10 * *"
    - cron: "*/2 * * * *"

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - name: Exibir origem da execução
        run: |
          echo "Workflow acionado via: ${{ github.event_name }}"
          if [ "${{ github.event_name }}" == "workflow_dispatch" ]; then
            echo "Ambiente selecionado: ${{ github.event.inputs.environment }}"
          else
            echo "Execução automática mensal."
          fi
