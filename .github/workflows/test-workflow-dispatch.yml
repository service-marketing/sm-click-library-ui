# name: Deploy Manual

# on:
#   workflow_dispatch:
#     inputs:
#       environment:
#         description: "Escolha o ambiente"
#         required: true
#         default: "staging"
#       release_version:
#         description: "Versão a ser deployada"
#         required: true
#       deploy_type:
#         description: "Tipo de deploy"
#         required: true
#         type: choice
#         options:
#           - manual
#           - automatic
#       force_deploy:
#         description: "Forçar deploy?"
#         required: false
#         type: boolean
#         default: false

# jobs:
#   deploy:
#     runs-on: ubuntu-latest
#     steps:
#       - name: Exibir configuração escolhida
#         run: |
#           echo "Ambiente: ${{ github.event.inputs.environment }}"
#           echo "Versão: ${{ github.event.inputs.release_version }}"
#           echo "Tipo: ${{ github.event.inputs.deploy_type }}"
#           echo "Forçar deploy: ${{ github.event.inputs.force_deploy }}"

name: Deploy Manual e Agendado

on:
  workflow_dispatch: # Gatilho manual
    inputs:
      environment:
        description: "Escolha o ambiente"
        required: true
        default: "staging"

  schedule: # Gatilho automático
    - cron: "40 16 10 * *"

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - name: Exibir origem da execução
        run: |
          echo "Workflow acionado via: ${{ github.event_name }}"
          if [ "${{ github.event_name }}" == "workflow_dispatch" ]; then
            echo "Ambiente selecionado: ${{ github.event.inputs.environment }}"
          else
            echo "Execução automática mensal."
          fi
